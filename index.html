<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»Šå¤©åƒä»€éº¼ ğŸ›</title>
    <style>
        :root {
            --bg-color: #FFF9EB;
            --card-bg: #FFFFFF;
            --accent: #FF8D8D;
            --sub-accent: #FFD966;
            --text-color: #5D4037;
        }

        body {
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; margin: 0;
        }

        .card {
            background: var(--card-bg);
            width: 85%; max-width: 360px;
            padding: 40px 25px; border-radius: 40px;
            box-shadow: 0 10px 0px #F0E5D0;
            text-align: center; border: 3px solid #5D4037;
        }

        .icon-header { font-size: 60px; margin-bottom: 10px; animation: float 3s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-12px); } }

        h1 { font-size: 26px; margin: 0 0 5px; color: #5D4037; font-weight: 900; }
        .tag { font-size: 13px; color: #9E7E6B; background: #FDF1D6; padding: 4px 12px; border-radius: 20px; display: inline-block; margin-bottom: 30px; }

        .form-group { text-align: left; margin-bottom: 20px; }
        label { font-size: 15px; font-weight: bold; margin-bottom: 8px; display: block; margin-left: 5px; }
        
        select {
            width: 100%; padding: 14px; border-radius: 20px;
            border: 2px solid #5D4037; background: #fff;
            font-size: 16px; color: #5D4037; outline: none;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%235D4037' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 15px center; background-size: 15px;
        }

        .btn {
            width: 100%; padding: 20px; border-radius: 25px;
            border: 2px solid #5D4037; font-size: 20px; font-weight: 900;
            cursor: pointer; margin-top: 15px; background: var(--sub-accent);
            color: #5D4037; box-shadow: 0 6px 0 #5D4037; transition: 0.1s;
        }

        .btn:active { transform: translateY(4px); box-shadow: 0 2px 0 #5D4037; }

        .loading-tip { display: none; margin-top: 15px; font-size: 14px; color: var(--accent); font-weight: bold; }
    </style>
</head>
<body>

<div class="card">
    <div class="icon-header">ğŸ²</div>
    <h1>æ±ºå®šå¥½äº†å—ï¼Ÿ</h1>
    <div class="tag">ğŸ“ è‡ªå‹•å®šä½é™„è¿‘ 1km æœå°‹</div>

    <div class="form-group">
        <label>ğŸ˜‹ æƒ³åƒå“ªä¸€é¡ï¼Ÿ</label>
        <select id="style">
            <option value="å°å¼æ–™ç†">å°å¼å¤æ—©å‘³</option>
            <option value="æ—¥å¼æ–™ç†">æ—¥å¼å¥½æ»‹å‘³</option>
            <option value="ä¸­å¼æ–™ç†">ä¸­å¼å¤§é£½å£ç¦</option>
            <option value="ä¾¿åˆ©å•†åº—">è¶…å•†/è¼•é£Ÿ</option>
            <option value="ç¾å¼é¤å»³">ç¾å¼è±ªé‚åƒ</option>
            <option value="éŸ“å¼æ–™ç†">éŸ“å¼æ­å·´é¢¨</option>
        </select>
    </div>

    <div class="form-group">
        <label>â° ç”¨é¤æ™‚æ®µ</label>
        <select id="time">
            <option value="æ—©é¤">æ—©é¤æ™‚å…‰</option>
            <option value="ä¸­é¤">ä¸­åˆä¼‘æ¯</option>
            <option value="æ™šé¤">æ™šé¤æ”¾é¬†</option>
        </select>
    </div>

    <button class="btn" onclick="searchNow()">å¹«æˆ‘æ‰¾ä¸€é–“ï¼âœ¨</button>
    <div id="loader" class="loading-tip">æ­£åœ¨é€£å‹•åœ°åœ–...</div>
</div>

<script>
    function searchNow() {
        const loader = document.getElementById('loader');
        loader.style.display = 'block';

        if (!navigator.geolocation) {
            alert("ç€è¦½å™¨ä¸æ”¯æ´å®šä½åŠŸèƒ½ã€‚");
            loader.style.display = 'none';
            return;
        }

        navigator.geolocation.getCurrentPosition((pos) => {
            const lat = pos.coords.latitude;
            const lng = pos.coords.longitude;
            
            const style = document.getElementById('style').value;
            const time = document.getElementById('time').value;

            // éš¨æ©Ÿå’’èªï¼šå¢åŠ æœå°‹çµæœçš„å¤šæ¨£æ€§
            const randomSpells = ["æ¨è–¦", "äººæ°£", "è©•åƒ¹é«˜", "é©šå–œ", "åœ¨åœ°äººæ¨è–¦", "éš±è—ç‰ˆ"];
            const spell = randomSpells[Math.floor(Math.random() * randomSpells.length)];
            
            // çµ„åˆæœå°‹è©
            const query = encodeURIComponent(`${spell} ${style} ${time}`);
            
            // ä½¿ç”¨ Google Maps å®˜æ–¹æœå°‹æ¨¡å¼ï¼Œé€™æœƒç›´æ¥åœ¨åœ°åœ–ä¸Šé¡¯ç¤ºå¤šå€‹çµæœä¾›æŒ‘é¸
            const mapUrl = `https://www.google.com/maps/search/${query}/@${lat},${lng},16z`;

            setTimeout(() => {
                loader.style.display = 'none';
                window.open(mapUrl, '_blank');
            }, 500);
        }, (error) => {
            loader.style.display = 'none';
            alert("è«‹å…è¨±å®šä½æ¬Šé™ï¼Œæ‰èƒ½æœå°‹é™„è¿‘çš„é¤å»³å–”ï¼");
        });
    }
</script>

</body>
</html>
