<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»Šå¤©åƒä»€éº¼ ğŸ›</title>
    <style>
        :root {
            --bg-color: #FFF9EB;
            --card-bg: #FFFFFF;
            --accent: #FF8D8D;
            --sub-accent: #FFD966;
            --map-blue: #A0C4FF;
            --text-color: #5D4037;
        }

        body {
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .card {
            background: var(--card-bg);
            width: 85%;
            max-width: 360px;
            padding: 30px;
            border-radius: 40px;
            box-shadow: 0 10px 0px #F0E5D0;
            text-align: center;
            border: 3px solid #5D4037;
        }

        .icon-header { font-size: 60px; margin-bottom: 10px; }
        h1 { font-size: 24px; margin: 0 0 5px; color: #5D4037; }
        .location { font-size: 13px; color: #9E7E6B; margin-bottom: 20px; font-weight: bold; }

        .form-group { text-align: left; margin-bottom: 15px; }
        label { font-size: 14px; font-weight: bold; margin-bottom: 5px; display: block; }
        select {
            width: 100%;
            padding: 12px;
            border-radius: 15px;
            border: 2px solid #5D4037;
            background: #fff;
            font-size: 16px;
            outline: none;
        }

        .btn {
            width: 100%;
            padding: 16px;
            border-radius: 20px;
            border: 2px solid #5D4037;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            display: block;
            text-decoration: none;
            box-sizing: border-box;
            transition: 0.2s;
        }

        .btn-main { background: var(--sub-accent); color: #5D4037; box-shadow: 0 4px 0 #5D4037; }
        .btn-main:active { transform: translateY(2px); box-shadow: 0 2px 0 #5D4037; }

        .loading-text { display: none; margin-top: 15px; font-size: 14px; color: var(--accent); font-weight: bold; }
    </style>
</head>
<body>

<div class="card">
    <div class="icon-header">ğŸ´</div>
    <h1>å…¨å°éš¨æ©Ÿåƒï¼</h1>
    <div class="location">ğŸ“ ä»¥æ‚¨çš„ã€Œç›®å‰ä½ç½®ã€æœå°‹</div>

    <div class="form-group">
        <label>ğŸ• æƒ³åƒé¢¨æ ¼</label>
        <select id="style">
            <option value="å°å¼é¤å»³">å°å¼æ–™ç†</option>
            <option value="æ—¥å¼æ–™ç†">æ—¥å¼æ–™ç†</option>
            <option value="ä¸­å¼é¤å»³">ä¸­å¼æ–™ç†</option>
            <option value="ä¾¿åˆ©å•†åº—">è¶…å•†/è¼•é£Ÿ</option>
            <option value="ç¾å¼é¤å»³">ç¾å¼æ¼¢å ¡</option>
            <option value="éŸ“å¼æ–™ç†">éŸ“å¼æ–™ç†</option>
        </select>
    </div>

    <div class="form-group">
        <label>ğŸ’¸ åƒ¹æ ¼æ¢ä»¶</label>
        <select id="price">
            <option value="ä¾¿å®œ">200 ä»¥å…§</option>
            <option value="å¹³åƒ¹">201-400</option>
            <option value="ç²¾ç·»">400 ä»¥ä¸Š</option>
        </select>
    </div>

    <div class="form-group">
        <label>â° æ™‚æ®µ</label>
        <select id="time">
            <option value="æ—©é¤">æ—©é¤</option>
            <option value="ä¸­é¤">ä¸­é¤</option>
            <option value="æ™šé¤">æ™šé¤</option>
        </select>
    </div>

    <button class="btn btn-main" onclick="startRandomSearch()">
        ç«‹åˆ»æœå°‹é™„è¿‘é¤å»³ âœ¨
    </button>
    
    <div id="loading" class="loading-text">æ­£åœ¨è®€å–å®šä½ä¸­...</div>
</div>

<script>
    function startRandomSearch() {
        const loading = document.getElementById('loading');
        loading.style.display = 'block';

        // æª¢æŸ¥ç€è¦½å™¨æ˜¯å¦æ”¯æ´å®šä½
        if (!navigator.geolocation) {
            alert("æŠ±æ­‰ï¼Œæ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å®šä½åŠŸèƒ½ã€‚");
            loading.style.display = 'none';
            return;
        }

        navigator.geolocation.getCurrentPosition(
            (position) => {
                const lat = position.coords.latitude;
                const lng = position.coords.longitude;
                
                // ç²å–ä½¿ç”¨è€…é¸å–çš„æ¢ä»¶
                const style = document.getElementById('style').value;
                const price = document.getElementById('price').value;
                const time = document.getElementById('time').value;

                // ç‚ºäº†å¢åŠ ã€Œéš¨æ©Ÿæ„Ÿã€ï¼Œæˆ‘å€‘åœ¨æœå°‹é—œéµå­—ä¸­åŠ å…¥ä¸€å€‹äº‚æ•¸æè¿°
                // ä¾‹å¦‚ã€Œæ¨è–¦ã€ã€ã€Œè©•åƒ¹é«˜ã€ã€ã€Œé©šå–œã€ç­‰éš¨æ©Ÿè©å½™
                const randomAds = ["", "æ¨è–¦", "é«˜è©•åˆ†", "äººæ°£", "é™„è¿‘"];
                const ad = randomAds[Math.floor(Math.random() * randomAds.length)];
                
                const query = `${ad} ${style} ${price} ${time}`;
                
                // çµ„åˆ Google Maps URL (ä½¿ç”¨ç›®å‰åº§æ¨™èˆ‡ 1km å·¦å³çš„ç¯„åœæœå°‹)
                // é€™è£¡ç›´æ¥ä½¿ç”¨ Google Maps ç¶²é æœå°‹ï¼Œå®ƒæœƒæ ¹æ“šç•¶å‰åº§æ¨™è‡ªå‹•éæ¿¾
                const mapUrl = `https://maps.google.com/?cid=5559279461782705747&g_mp=Cidnb29nbGUubWFwcy5wbGFjZXMudjEuUGxhY2VzLlNlYXJjaFRleHQ{encodeURIComponent(query)}/@${lat},${lng},15z`;

                loading.style.display = 'none';
                window.open(mapUrl, '_blank');
            },
            (error) => {
                loading.style.display = 'none';
                alert("ç„¡æ³•å–å¾—å®šä½ï¼Œè«‹ç¢ºä¿å·²é–‹å•Ÿ GPS ä¸¦å…è¨±ç¶²é å­˜å–æ¬Šé™ã€‚");
            },
            { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 }
        );
    }
</script>

</body>
</html>
